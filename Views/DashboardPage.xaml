<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="NetDiagPro.Views.DashboardPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:NetDiagPro.Views"
    Background="Transparent">

    <ScrollViewer Padding="32">
        <StackPanel Spacing="24">
            <!-- Header -->
            <TextBlock Text="网络概览" Style="{StaticResource TitleTextBlockStyle}" />
            <TextBlock Text="快速查看网络状态和关键指标" 
                       Style="{StaticResource BodyTextBlockStyle}" 
                       Foreground="{ThemeResource TextFillColorSecondaryBrush}" />

            <!-- Quick Stats Cards -->
            <Grid ColumnSpacing="16" RowSpacing="16">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <!-- Network Status Card -->
                <Border Grid.Column="0" 
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        CornerRadius="8" Padding="16">
                    <StackPanel Spacing="8">
                        <FontIcon Glyph="&#xE701;" Foreground="{ThemeResource AccentFillColorDefaultBrush}" FontSize="24" />
                        <TextBlock Text="网络状态" Style="{StaticResource CaptionTextBlockStyle}" 
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                        <TextBlock x:Name="NetworkStatusText" Text="正常" 
                                   Style="{StaticResource SubtitleTextBlockStyle}" 
                                   Foreground="#10B981" />
                    </StackPanel>
                </Border>

                <!-- Latency Card -->
                <Border Grid.Column="1" 
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        CornerRadius="8" Padding="16">
                    <StackPanel Spacing="8">
                        <FontIcon Glyph="&#xE916;" Foreground="{ThemeResource AccentFillColorDefaultBrush}" FontSize="24" />
                        <TextBlock Text="平均延迟" Style="{StaticResource CaptionTextBlockStyle}" 
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                        <StackPanel Orientation="Horizontal" Spacing="4">
                            <TextBlock x:Name="LatencyText" Text="--" Style="{StaticResource SubtitleTextBlockStyle}" />
                            <TextBlock Text="ms" Style="{StaticResource BodyTextBlockStyle}" 
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}" 
                                       VerticalAlignment="Bottom" Margin="0,0,0,2" />
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Download Speed Card -->
                <Border Grid.Column="2" 
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        CornerRadius="8" Padding="16">
                    <StackPanel Spacing="8">
                        <FontIcon Glyph="&#xE896;" Foreground="#3B82F6" FontSize="24" />
                        <TextBlock Text="下载速度" Style="{StaticResource CaptionTextBlockStyle}" 
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                        <StackPanel Orientation="Horizontal" Spacing="4">
                            <TextBlock x:Name="DownloadSpeedText" Text="--" Style="{StaticResource SubtitleTextBlockStyle}" />
                            <TextBlock Text="Mbps" Style="{StaticResource BodyTextBlockStyle}" 
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}" 
                                       VerticalAlignment="Bottom" Margin="0,0,0,2" />
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- LAN Devices Card -->
                <Border Grid.Column="3" 
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        CornerRadius="8" Padding="16">
                    <StackPanel Spacing="8">
                        <FontIcon Glyph="&#xE8CE;" Foreground="#8B5CF6" FontSize="24" />
                        <TextBlock Text="局域网设备" Style="{StaticResource CaptionTextBlockStyle}" 
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                        <StackPanel Orientation="Horizontal" Spacing="4">
                            <TextBlock x:Name="DeviceCountText" Text="--" Style="{StaticResource SubtitleTextBlockStyle}" />
                            <TextBlock Text="台" Style="{StaticResource BodyTextBlockStyle}" 
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}" 
                                       VerticalAlignment="Bottom" Margin="0,0,0,2" />
                        </StackPanel>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- Quick Actions -->
            <TextBlock Text="快速操作" Style="{StaticResource SubtitleTextBlockStyle}" Margin="0,16,0,0" />
            <StackPanel Orientation="Horizontal" Spacing="12">
                <Button x:Name="QuickSpeedTestBtn" Click="QuickSpeedTest_Click">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <FontIcon Glyph="&#xE913;" FontSize="16" />
                        <TextBlock Text="快速测速" />
                    </StackPanel>
                </Button>
                <Button x:Name="QuickScanBtn" Click="QuickScan_Click" Style="{StaticResource AccentButtonStyle}">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <FontIcon Glyph="&#xE774;" FontSize="16" />
                        <TextBlock Text="扫描局域网" />
                    </StackPanel>
                </Button>
                <Button x:Name="DiagnoseBtn" Click="Diagnose_Click">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <FontIcon Glyph="&#xE9D9;" FontSize="16" />
                        <TextBlock Text="网络诊断" />
                    </StackPanel>
                </Button>
            </StackPanel>

            <!-- IP Info Section -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    CornerRadius="8" Padding="20" Margin="0,8,0,0">
                <StackPanel Spacing="12">
                    <TextBlock Text="IP 信息" Style="{StaticResource SubtitleTextBlockStyle}" />
                    <Grid ColumnSpacing="32" RowSpacing="12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Column="0" Spacing="4">
                            <TextBlock Text="本地 IP" Style="{StaticResource CaptionTextBlockStyle}" 
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                            <TextBlock x:Name="LocalIpText" Text="获取中..." Style="{StaticResource BodyTextBlockStyle}" />
                        </StackPanel>
                        <StackPanel Grid.Column="1" Spacing="4">
                            <TextBlock Text="公网 IP" Style="{StaticResource CaptionTextBlockStyle}" 
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                            <TextBlock x:Name="PublicIpText" Text="获取中..." Style="{StaticResource BodyTextBlockStyle}" />
                        </StackPanel>
                        <StackPanel Grid.Column="2" Spacing="4">
                            <TextBlock Text="地理位置" Style="{StaticResource CaptionTextBlockStyle}" 
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                            <TextBlock x:Name="IpLocationText" Text="获取中..." Style="{StaticResource BodyTextBlockStyle}" />
                        </StackPanel>
                        <StackPanel Grid.Column="3" Spacing="4">
                            <TextBlock Text="运营商" Style="{StaticResource CaptionTextBlockStyle}" 
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                            <TextBlock x:Name="IspText" Text="获取中..." Style="{StaticResource BodyTextBlockStyle}" />
                        </StackPanel>
                    </Grid>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</Page>
