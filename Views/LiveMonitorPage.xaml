<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="NetDiagPro.Views.LiveMonitorPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    NavigationCacheMode="Enabled"
    Background="Transparent">

    <Grid Padding="32">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Spacing="4">
            <TextBlock Text="实时监控" Style="{StaticResource TitleTextBlockStyle}" />
            <TextBlock Text="监测多个目标的网络连通性、延迟和状态" 
                       Style="{StaticResource BodyTextBlockStyle}" 
                       Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
        </StackPanel>

        <!-- Controls -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" Spacing="12" Margin="0,20,0,20">
            <Button x:Name="StartStopBtn" Click="StartStop_Click" Style="{StaticResource AccentButtonStyle}">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <FontIcon x:Name="StartStopIcon" Glyph="&#xE768;" FontSize="16" />
                    <TextBlock x:Name="StartStopText" Text="开始监控" />
                </StackPanel>
            </Button>
            <Button x:Name="RefreshBtn" Click="Refresh_Click">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <FontIcon Glyph="&#xE72C;" FontSize="16" />
                    <TextBlock Text="刷新" />
                </StackPanel>
            </Button>
            <ProgressRing x:Name="LoadingRing" IsActive="False" Width="20" Height="20" />
            <TextBlock x:Name="LastUpdateText" Text="" 
                       Style="{StaticResource CaptionTextBlockStyle}"
                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                       VerticalAlignment="Center" />
        </StackPanel>

        <!-- Monitor Cards -->
        <ScrollViewer Grid.Row="2">
            <ItemsControl x:Name="MonitorCards">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel Spacing="12" />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
            </ItemsControl>
        </ScrollViewer>
    </Grid>
</Page>
