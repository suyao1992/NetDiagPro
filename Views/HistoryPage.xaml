<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="NetDiagPro.Views.HistoryPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Background="Transparent">

    <Grid Padding="32">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Spacing="4">
            <TextBlock Text="历史记录" Style="{StaticResource TitleTextBlockStyle}" />
            <TextBlock Text="查看过往的网络测试结果" 
                       Style="{StaticResource BodyTextBlockStyle}" 
                       Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
        </StackPanel>

        <!-- Controls -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" Spacing="12" Margin="0,20,0,20">
            <Button x:Name="RefreshBtn" Click="Refresh_Click">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <FontIcon Glyph="&#xE72C;" FontSize="16" />
                    <TextBlock Text="刷新" />
                </StackPanel>
            </Button>
            <Button x:Name="ClearBtn" Click="Clear_Click">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <FontIcon Glyph="&#xE74D;" FontSize="16" />
                    <TextBlock Text="清除全部" />
                </StackPanel>
            </Button>
            <TextBlock x:Name="CountText" Text="" VerticalAlignment="Center"
                       Style="{StaticResource CaptionTextBlockStyle}"
                       Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
        </StackPanel>

        <!-- History List -->
        <Border Grid.Row="2" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                CornerRadius="8" Padding="16">
            <ScrollViewer>
                <ItemsControl x:Name="HistoryList">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Spacing="8" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </ScrollViewer>
        </Border>
    </Grid>
</Page>
