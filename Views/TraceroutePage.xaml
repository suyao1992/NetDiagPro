<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="NetDiagPro.Views.TraceroutePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    NavigationCacheMode="Enabled"
    Background="Transparent">

    <Grid Padding="32">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Spacing="4">
            <TextBlock Text="路由追踪" Style="{StaticResource TitleTextBlockStyle}" />
            <TextBlock Text="追踪数据包到目标服务器的路径，显示每一跳的延迟和位置" 
                       Style="{StaticResource BodyTextBlockStyle}" 
                       Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
        </StackPanel>

        <!-- Input & Controls -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" Spacing="12" Margin="0,20,0,20">
            <TextBox x:Name="TargetInput" PlaceholderText="输入域名或 IP (如 google.com)" 
                     MinWidth="300" />
            <Button x:Name="TraceBtn" Click="Trace_Click" Style="{StaticResource AccentButtonStyle}">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <FontIcon Glyph="&#xE909;" FontSize="16" />
                    <TextBlock Text="开始追踪" />
                </StackPanel>
            </Button>
            <ProgressRing x:Name="TraceProgress" IsActive="False" Width="24" Height="24" />
            <TextBlock x:Name="StatusText" Text="" VerticalAlignment="Center"
                       Style="{StaticResource CaptionTextBlockStyle}"
                       Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
        </StackPanel>

        <!-- Results Table -->
        <Border Grid.Row="2" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                CornerRadius="8" Padding="16">
            <ScrollViewer>
                <ItemsControl x:Name="HopsContainer">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Spacing="8" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </ScrollViewer>
        </Border>
    </Grid>
</Page>
